package io.github.confuser2188.exploitguard;

import io.github.confuser2188.exploitguard.module.Check;
import org.bukkit.Bukkit;
import org.bukkit.entity.Player;

public class Action {

    public static void run(Player player, Check check) {
        String[] cmds = Main.plugin.getConfig().getString("actions").split(":");

        for (String cmd : cmds) {
            String command = cmd
                    .replace("<player>", player.getName())
                    .replace("<module>", check.getName());

            Bukkit.getScheduler().runTask(Main.plugin, () ->
            {
               if(player.isOnline())
                   Bukkit.dispatchCommand(Bukkit.getConsoleSender(), command);
            });
        }
    }
}
