package io.github.confuser2188.packetlistener_eg.minecraft;

import io.github.confuser2188.packetlistener_eg.Reflection;

import java.lang.reflect.Method;

public class WorldServer {

    private Object worldServer;

    public WorldServer(Object worldServer) {
        this.worldServer = worldServer;
    }

    public boolean isLoaded(BlockPosition blockPos) throws Exception{
        Method m = worldServer.getClass().getMethod("isLoaded", Reflection.getNMSClass("BlockPosition"));
        return (boolean) m.invoke(worldServer, blockPos.convert());
    }

    public TileEntity getTileEntity(BlockPosition blockPos) throws Exception{
        Method m = worldServer.getClass().getMethod("getTileEntity", Reflection.getNMSClass("BlockPosition"));
        return new TileEntity(m.invoke(worldServer, blockPos.convert()));
    }
}
